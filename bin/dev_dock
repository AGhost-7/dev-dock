#!/usr/bin/env ruby

require 'dev_dock'
require 'dev_dock/options'

def help(code = 1)
	helpfile = File.expand_path('../../help.txt', __FILE__)
	puts File.read(helpfile)
	exit code
end

if ARGV[0] == "-h" or ARGV[0] == "--help"
	help(0)
end

options = DevDock::Options.new(ARGV)
options.parse

if options.error
  puts options.error
  help
end

if options.subcommand == "start"
	DevDock::start options
elsif options.subcommand == "purge"
	DevDock::purge options
else
	help
end
